let $=jQuery.noConflict();function declOfNum(e,t){var s=(e=Math.abs(e)%100)%10;return e>10&&e<20?t[2]:s>1&&s<5?t[1]:1==s?t[0]:t[2]}function checkESform(){$(".ec-form input.required").trigger("change")}function echoNumber(e){return String(e).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")}$(document).ready((function(){$(".ec-options .tooltip").hover((function(){$(this).closest(".checkbox").find(".tooltiptext").css("visibility","visible")}),(function(){$(this).closest(".checkbox").find(".tooltiptext").css("visibility","hidden")})),$(".js-video-popup").magnificPopup({type:"iframe"}),$(".ec-form__field input.required:not(.number-limit)").inputFilter((function(e){return/^\d*$/.test(e)})),$(".ec-form__field input.required.number-limit").inputFilter((function(e){return/^[123]?$/.test(e)})),$(".ec-form__field input.required").on("change",(function(){""===$(this).val().trim()?$(this).closest(".ec-form__field").addClass("ec-form__field--error"):$(this).closest(".ec-form__field").removeClass("ec-form__field--error")})),$(".ec-form__col-field input.required").on("change",(function(){""===$(this).val().trim()?$(this).closest(".ec-form__col-field").addClass("ec-form__col-field--error"):$(this).closest(".ec-form__col-field").removeClass("ec-form__col-field--error")})),$(".ec-form .ec-btn").on("click",(function(){checkESform()}));let e=0;function t(e){let t=$(".ec-options"),s=e;t.find("input:checked").each((function(){s+=parseInt($(this).data("price"))})),$(".ec-options__total .es-total__right > div").html(echoNumber(s)+" р.")}$(".ec-form").on("submit",(function(){event.preventDefault();let s=$(".ec-form"),l=parseInt(s.find('input[name="es_field_1"]').val()),n=(parseInt(s.find('input[name="es_field_2"]').val()),parseInt(s.find('input[name="es_field_3"]').val())),c=parseInt(s.find('input[name="es_field_4"]').val()),i=parseInt(s.find('input[name="es_field_5"]').val()),o=parseInt(s.find('input[name="es_field_6"]').val()),r="1 камерой",u="",_="",d=7500,f=1;2===c?(d=8500,r="2 камерами"):3===c&&(d=9500,r="3 камерами");let a=0;if(a+=d*l*2,a+=d*n,i>2&&(a+=2e3*i),o>20?(f=1.4,_="от 21"):o>15?(f=1.35,_="от 16 до 20"):o>10?(f=1.3,_="от 11 до 15"):o>6?(f=1.2,_="от 7 до 10"):o>3&&(f=1.1,_="от 3 до 6"),a*=f,a>=5e5?(a*=.85,u=" - <span>15% скидка</span>"):a>=26e4?(a*=.9,u=" - <span>10% скидка</span>"):a>=18e4&&(a*=.95,u=" - <span>5% скидка</span>"),a=Math.round(a),e=a,$(".ec-results__total .es-total > div").html("ИТОГО: "+echoNumber(a)+" р."),$(".ec-results__col--1 .ec-results__col-number").html(echoNumber(d)+" р./час * "+2*l+" "+declOfNum(2*l,["час","часа","часов"])),$(".ec-results__col--1 .ec-results__col-text").html("Ставка за час за комплект оборудования со съемочной группой с "+r),n>0?($(".ec-results__col--5 .ec-results__col-number").html("&nbsp;+ "+echoNumber(d)+" р."),$(".ec-results__col--2 .ec-results__col-number").html("&nbsp;* "+n+" "+declOfNum(n,["час","часа","часов"])),$(".ec-results__col--5, .ec-results__col--2").show()):$(".ec-results__col--5, .ec-results__col--2").hide(),i>2?($(".ec-results__col--4 .ec-results__col-number").html("&nbsp;+ 2.000 р. * "+i),$(".ec-results__col--4").show()):$(".ec-results__col--4").hide(),u||_){let e="&nbsp;";_?(e+="* "+f,$(".ec-results__col--3 .ec-results__col-text").html("Коэффициент количества спикеров <br>"+_).show()):$(".ec-results__col--3 .ec-results__col-text").html("Коэффициент количества спикеров <br>"+_).hide(),u&&(e+=u),$(".ec-results__col--3 .ec-results__col-number").html(e),$(".ec-results__col--3, .ec-results__col--sep").show()}else $(".ec-results__col--3, .ec-results__col--sep").hide();t(e),$(".event-calc__section--3").slideDown(200,"linear",(function(){$(".event-calc__section--4").slideDown(300,"linear",(function(){$(".event-calc__section--5").slideDown(300,"linear")}))}))})),$(".ec-options .checkbox").on("change",(function(){t(e)})),$(".ec-options").on("submit",(function(){event.preventDefault(),alert("pdf отправлен")})),$(".es-quest__item").on("click",(function(){event.preventDefault();$(this).data("id");$(".es-quest__flex").hide(),$(".es-quest__thanks").show()}))})),jQuery.fn.inputFilter=function(e){return this.on("input keydown keyup mousedown mouseup select contextmenu drop",(function(){e(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""}))};
//# sourceMappingURL=maps/main.min.js.map
