let $=jQuery.noConflict();function declOfNum(e,t){var c=(e=Math.abs(e)%100)%10;return e>10&&e<20?t[2]:c>1&&c<5?t[1]:1==c?t[0]:t[2]}function checkESform(){$(".ec-form input.required").trigger("change")}function echoNumber(e){return String(e).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")}$(document).ready((function(){$(".ec-options .tooltip").hover((function(){$(this).closest(".checkbox").find(".tooltiptext").css("visibility","visible")}),(function(){$(this).closest(".checkbox").find(".tooltiptext").css("visibility","hidden")})),$(".js-video-popup").magnificPopup({type:"iframe"}),$(".ec-form__field input.required:not(.number-limit):not(.number-limit-2)").inputFilter((function(e){return/^\d*$/.test(e)})),$(".ec-form__field input.required.number-limit").inputFilter((function(e){return/^[123]?$/.test(e)})),$(".ec-form__field input.required.number-limit-2").inputFilter((function(e){return/^[0123]?$/.test(e)})),$(".ec-form__field input.required").on("change",(function(){""===$(this).val().trim()?$(this).closest(".ec-form__field").addClass("ec-form__field--error"):$(this).closest(".ec-form__field").removeClass("ec-form__field--error")})),$(".e-select-1").on("change",(function(){"n"===$(this).val()?($(".e-select-2").val("y").change(),$(".ec-form__section--sel-1").hide().find("input").removeClass("required").prop("required",!1)):$(".ec-form__section--sel-1").show().find("input").addClass("required").prop("required",!0)})),$(".e-select-2").on("change",(function(){"n"===$(this).val()&&($(".e-select-1").val("y").change(),$(".ec-form__section--sel-1").show().find("input").addClass("required").prop("required",!0))})),$(".ec-form__col-field input.required").on("change",(function(){""===$(this).val().trim()?$(this).closest(".ec-form__col-field").addClass("ec-form__col-field--error"):$(this).closest(".ec-form__col-field").removeClass("ec-form__col-field--error")})),$(".ec-form .ec-btn").on("click",(function(){checkESform()}));let e=0;function t(e){let t=$(".ec-options"),c=e;t.find("input:checked").each((function(){c+=parseInt($(this).data("price"))})),$(".ec-options__total .es-total__right > div").html(echoNumber(c)+" р.")}var c,s,o,l,n;$(".ec-form").on("submit",(function(){event.preventDefault();let c=$(".ec-form"),s=parseInt(c.data("id"));if(1===s){let s=parseInt(c.find('input[name="es_field_1"]').val()),o=parseInt(c.find('input[name="es_field_2"]').val()),l=parseInt(c.find('input[name="es_field_3"]').val()),n=parseInt(c.find('input[name="es_field_4"]').val()),r=parseInt(c.find('input[name="es_field_5"]').val()),i=parseInt(c.find('input[name="es_field_6"]').val()),u="1 камерой",a="",d="",_=7500,m=1;2===n?(_=8500,u="2 камерами"):3===n&&(_=9500,u="3 камерами");let f=0;if(f+=_*s*2,f+=_*l,r>2&&(f+=2e3*r),i>20?(m=1.4,d="от 21"):i>15?(m=1.35,d="от 16 до 20"):i>10?(m=1.3,d="от 11 до 15"):i>6?(m=1.2,d="от 7 до 10"):i>3&&(m=1.1,d="от 3 до 6"),f*=m,f+=1e4*o,f>=5e5?(f*=.85,a=" - <span>15% скидка</span>"):f>=26e4?(f*=.9,a=" - <span>10% скидка</span>"):f>=18e4&&(f*=.95,a=" - <span>5% скидка</span>"),f=Math.round(f),e=f,$(".ec-results__total .es-total > div").html("ИТОГО: "+echoNumber(f)+" р."),$(".ec-results__col--1 .ec-results__col-number").html(echoNumber(_)+" р./час * "+2*s+" "+declOfNum(2*s,["час","часа","часов"])),$(".ec-results__col--1 .ec-results__col-text").html("Ставка за час за комплект оборудования со съемочной группой с "+u),o>0?($(".ec-results__col--6 .ec-results__col-number").html("10.000 р. * "+o+" +&nbsp;"),$(".ec-results__col--6, .ec-results__col--2").show()):$(".ec-results__col--6, .ec-results__col--2").hide(),l>0?($(".ec-results__col--5 .ec-results__col-number").html("&nbsp;+ "+echoNumber(_)+" р."),$(".ec-results__col--2 .ec-results__col-number").html("&nbsp;* "+l+" "+declOfNum(l,["час","часа","часов"])),$(".ec-results__col--5, .ec-results__col--2").show()):$(".ec-results__col--5, .ec-results__col--2").hide(),r>2?($(".ec-results__col--4 .ec-results__col-number").html("&nbsp;+ 2.000 р. * "+r),$(".ec-results__col--4").show()):$(".ec-results__col--4").hide(),a||d){let e="&nbsp;";d?(e+="* "+m,$(".ec-results__col--3 .ec-results__col-text").html("Коэффициент количества спикеров <br>"+d).show()):$(".ec-results__col--3 .ec-results__col-text").html("Коэффициент количества спикеров <br>"+d).hide(),a&&(e+=a),$(".ec-results__col--3 .ec-results__col-number").html(e),$(".ec-results__col--3, .ec-results__col--sep").show()}else $(".ec-results__col--3").hide(),o>0?$(".ec-results__col--sep").show():$(".ec-results__col--sep").hide();t(e),$(".event-calc__section--3").slideDown(200,"linear",(function(){$(".event-calc__section--4").slideDown(300,"linear",(function(){$(".event-calc__section--5").slideDown(300,"linear")}))}))}else if(2===s){let s=parseInt(c.find('input[name="es_field_1"]').val()),o=parseInt(c.find('input[name="es_field_2"]').val()),l=c.find('select[name="es_field_3"]').val(),n=parseInt(c.find('input[name="es_field_4"]').val()),r=c.find('select[name="es_field_5"]').val(),i=parseInt(c.find('input[name="es_field_6"]').val()),u=parseInt(c.find('input[name="es_field_7"]').val()),a="Ставка за час за комплект оборудования",d="",_="",m=2;s>=14?m=6:s>=10?m=5:s>=6&&(m=4);let f=4500,p=1;1===n?(f=7500,a="Ставка за час за комплект оборудования со съемочной группой с 1 камерой"):2===n&&(f=8500,a="Ставка за час за комплект оборудования со съемочной группой с 2 камерами"),3===n&&(f=9500,a="Ставка за час за комплект оборудования со съемочной группой с 3 камерами");let h=0;if(h+=f*(s+m),"y"===r&&(h+=5500*(s+m)),i>0&&(h+=2500*i),"y"===l&&(u>20?(p=1.4,_="от 21"):i>15?(p=1.35,_="от 16 до 20"):i>10?(p=1.3,_="от 11 до 15"):i>6?(p=1.2,_="от 7 до 10"):i>3&&(p=1.1,_="от 3 до 6")),h*=p,n>0&&(h+=1e4*o),h>=5e5?(h*=.85,d=" - <span>15% скидка</span>"):h>=26e4?(h*=.9,d=" - <span>10% скидка</span>"):h>=18e4&&(h*=.95,d=" - <span>5% скидка</span>"),h=Math.round(h),e=h,$(".ec-results__total .es-total > div").html("ИТОГО: "+echoNumber(h)+" р."),$(".ec-results__col--1 .ec-results__col-number").html(echoNumber(f)+" р./час * "+(s+m)+" "+declOfNum(s+m,["час","часа","часов"])),$(".ec-results__col--1 .ec-results__col-text").html(a),o>0&&n>0?($(".ec-results__col--6 .ec-results__col-number").html("10.000 р. * "+o+" +&nbsp;"),$(".ec-results__col--6, .ec-results__col--2").show()):$(".ec-results__col--6, .ec-results__col--2").hide(),"y"===r?($(".ec-results__col--11 .ec-results__col-number").html("&nbsp;+ 5.500 р. * "+(s+m)+" "+declOfNum(s+m,["час","часа","часов"])),$(".ec-results__col--11").show()):$(".ec-results__col--11").hide(),i>0?($(".ec-results__col--12 .ec-results__col-number").html("&nbsp;+ 2.500 р. * "+i+" "+declOfNum(i,["час","часа","часов"])),$(".ec-results__col--12").show()):$(".ec-results__col--12").hide(),d||_){let e="&nbsp;";_&&"y"===l?(e+="* "+p,$(".ec-results__col--3 .ec-results__col-text").html("Коэффициент количества спикеров <br>"+_).show()):$(".ec-results__col--3 .ec-results__col-text").html("Коэффициент количества спикеров <br>"+_).hide(),d&&(e+=d),$(".ec-results__col--3 .ec-results__col-number").html(e),$(".ec-results__col--3, .ec-results__col--sep").show()}else $(".ec-results__col--3").hide(),o>0&&n>0?$(".ec-results__col--sep").show():$(".ec-results__col--sep").hide();t(e),n>0?$(".ec-options__checkbox--type-2").show():$(".ec-options__checkbox--type-2").hide().find("input").prop("checked",!1),$(".event-calc__section--3").slideDown(200,"linear",(function(){$(".event-calc__section--5").slideDown(300,"linear")}))}})),$(".ec-options .checkbox").on("change",(function(){t(e)})),$(".ec-options").on("submit",(function(){event.preventDefault(),alert("pdf отправлен")})),$(".es-quest__item").on("click",(function(){event.preventDefault();$(this).data("id");$(".es-quest__flex").hide(),$(".es-quest__thanks").show()})),c=$("body"),s=$(".header"),o=s.offset().top,l=s.outerHeight(),$(window).scrollTop(),n=!!(s.hasClass("header--half")&&$(window).width()>=1024),$(window).on("scroll",(function(){$(window).scrollTop()>=o+l?(l=s.outerHeight(),s.addClass("header--fixed"),s.hasClass("is-fixed")||(s.css({top:-l+"px",transform:"translateY("+l+"px)"}).addClass("is-fixed"),n||c.css("padding-top",l+"px"))):(s.removeClass("header--fixed is-fixed").removeAttr("style"),c.css("padding-top",0))}))})),jQuery.fn.inputFilter=function(e){return this.on("input keydown keyup mousedown mouseup select contextmenu drop",(function(){e(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""}))},document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector(".calc3")){const e=document.querySelector(".modal"),t=[{video1:"https://www.youtube.com/embed/V1en18UMl3s",title:"Копирайтинг, который\n                  выполняет задачи маркетинга",text:"Сильный с точки зрения маркетинга закадровый текст\n                - это залог успеха любого ролика. Мы разработаем \n                для вас копирайтинг, который будет выполнять\n                ту или иную задачу. В данном случае - это пример\n                копирайтинга, который вызывает гордость за компанию,\n                в которой работаешь. Ролик был приурочен к юбилею\n                компании. "},{video1:"https://www.youtube.com/embed/PmGUW76hq3Q",title:"У вас есть фото, которые вы хотите внедрить\n                  в проект, и сделать это органично?",text:"Мы предложим решение для внедрения ваших\n                материалов в формате современного слайд-шоу\n                с анимацией. Подгоним цветокоррекцию фотографий\n                под снятый видеоматериал, чтобы он органично \n                вписался в общий визуальный ряд. В данном случае\n                посмотрите на примере прямой трансляции отбороч-\n                ного тура по косплею - здесь внедрили фото победи-\n                телей прошлых годов.  "},{video1:"https://www.youtube.com/embed/NMvBBt_bwdI",title:"Словами не объяснить, на видео не показать? \n                  Мы смоделируем любой объект/предмет в 3D\n                  и анимируем его, покажем как он работает. ",text:"Сцены 3D существуют для выполнения всего двух\n                задач - они либо демонстрируют то, что нельзя\n                показать на видео - или это слишком мелко, или \n                этого еще нет в природе, или слишком большое\n                итд... или они выполняют чисто эстетическую функ-\n                цию, когда вам хочется оформить, например, заставку\n                к вашему ролику в 3D. Посмотрите наше демо, чтобы\n                иметь представление, какая может быть графика. "},{video1:"https://www.youtube.com/embed/sTP_oYYE5eY",video2:"https://www.youtube.com/embed/276VvkJSJuI"},{video1:"https://www.youtube.com/embed/bWczx2XYsaM",video2:"https://www.youtube.com/embed/e7JADySvAME"},{video1:"https://www.youtube.com/embed/Huea4BhmGRU",video2:"https://www.youtube.com/embed/mEobEA6-Egg"}];document.addEventListener("click",c=>{const s=c.target;if(s.classList.contains("form-calc__link")){if("1"===s.dataset.modal){c.preventDefault(),e.classList.add("video");const o=e.querySelectorAll("iframe");o[0].src=t[s.dataset.content].video1,o[1].src=t[s.dataset.content].video2}else"0"===s.dataset.modal&&(c.preventDefault(),e.querySelector("iframe").src=t[s.dataset.content].video1,e.querySelector(".modal-content__description-title").textContent=t[s.dataset.content].title,e.querySelector(".modal-content__description-text").textContent=t[s.dataset.content].text);e.classList.add("active")}(s.closest(".modal-content__close")||s.classList.contains("modal-overlay"))&&(e.classList.remove("active"),e.classList.remove("video"))})}}),document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector(".calc3")){const e=document.querySelector(".event-calc__form"),t=document.querySelectorAll(".js-required-checkbox");e.addEventListener("change",e=>{const c=e.target;t.forEach(e=>{e===c&&(e.checked="checked",e.closest("label").classList.add("form-checkbox__error"),e.closest(".form-calc__item").classList.add("form-calc__item-error"))})})}}),document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector(".calc3")){const e=document.querySelector(".event-calc__form"),t=document.querySelectorAll(".form-contacts__input");e.addEventListener("change",e=>{const c=e.target;t.forEach(e=>{e!==c||c.value?e===c&&c.value&&c.closest(".form-contacts__group").classList.remove("form-contacts__group-error"):c.closest(".form-contacts__group").classList.add("form-contacts__group-error")})}),e.addEventListener("submit",e=>{t.forEach(t=>{t.value||(e.preventDefault(),t.closest(".form-contacts__group").classList.add("form-contacts__group-error"))})})}}),document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector(".calc3")){const c=document.querySelector(".event-calc__form"),s=document.querySelector(".form-total__text-final"),o=document.querySelector('input[name="es_field_1"]'),l=document.querySelector('input[name="es_field_2"]'),n=document.querySelector('select[name="es_field_2-1"]'),r=document.querySelector('select[name="es_field_3"]'),i=document.querySelector('input[name="es_field_4"]'),u=document.querySelector('select[name="es_field_4-1"]'),a=document.querySelector('input[name="es_field_5"]'),d=document.querySelector('input[name="es_field_6"]'),_=document.querySelector('input[name="es_field_21"]'),m=document.querySelector('select[name="es_field_21-1"]'),f=document.querySelector('input[name="es_field_7"]'),p=document.querySelector('select[name="es_field_7-1"]'),h=document.querySelector('input[name="es_field_8"]'),v=document.querySelector('input[name="es_field_9"]'),$=document.querySelector('input[name="es_field_10"]'),y=document.querySelector('input[name="es_field_11"]'),b=document.querySelector('input[name="es_field_12"]'),q=document.querySelector('select[name="es_field_12-1"]'),w=document.querySelector('input[name="es_field_13"]'),S=document.querySelector('input[name="es_field_14"]'),g=document.querySelector('input[name="es_field_15"]'),x=document.querySelector('input[name="es_field_16"]'),L=document.querySelector('input[name="es_field_17"]'),E=document.querySelector('input[name="es_field_18"]'),k=document.querySelector('input[name="es_field_19"]'),C=document.querySelector('input[name="es_field_20"]');let D=0,M="",I=0,N=0,O=r.value,A=0,V=0,Y=0,j=0,F=0,P=0,B=0,H=0,J=0,Q=0,T=0,U=0,G=0,R=0,W=0,z=0,X=0,K=0;function e(e){return e.checked?e.dataset.price:0}function t(){I=e(o),N=l.dataset.price*n.value,O=r.value,A=i.dataset.price*u.value,j=e(_)*m.value,F=e(f)*p.value,P=e(h),H=e($),Q=e(b)*q.value,W=e(L),z=e(E),"1"===O?(V=1*a.dataset.price,Y=1*d.dataset.price,B=1*e(v),J=1*y.dataset.price,T=1*e(w),U=1*S.dataset.price,G=1*g.dataset.price,R=1*e(x),X=1*k.dataset.price,K=1*C.dataset.price):"2"===O?(V=1.25*a.dataset.price,Y=Math.ceil(1.33333*d.dataset.price),B=1.2*e(v),J=1.5*y.dataset.price,T=Math.ceil(1.16666*e(w)),U=1.5*S.dataset.price,G=1.5*g.dataset.price,R=1.6*e(x),X=Math.ceil(1.33333*k.dataset.price),K=1.25*C.dataset.price):"3"===O&&(V=1.75*a.dataset.price,Y=Math.ceil(1.6666666666*d.dataset.price),B=1.4*e(v),J=1.8*y.dataset.price,T=Math.ceil(2.16666*e(w)),U=2.25*S.dataset.price,G=2*g.dataset.price,R=3.6*e(x),X=Math.ceil(1.66666*k.dataset.price),K=1.5*C.dataset.price),D=+I+ +N+ +A+ +V+ +Y+ +j+ +F+ +P+ +B+ +H+ +J+ +Q+ +T+ +U+ +G+ +R+ +W+ +z+ +X+ +K,function(){let e=D.toString(),t=[];for(;e.length>3;)t.push(e.slice(-3)),e=e.slice(0,-3);t.push(e),M="";for(let e=t.length;e>0;e--)M+=t[e-1],1!==e&&(M+=".");s.textContent=M+" "}()}c.addEventListener("change",()=>{t()}),t()}}),document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector(".calc3")){const e=document.querySelector(".event-calc__form");e.addEventListener("mouseover",e=>{const t=e.target;t.classList.contains("tooltip")&&(t.closest(".form-calc__item").querySelector(".tooltiptext").style.visibility="visible")}),e.addEventListener("mouseout",e=>{const t=e.target;t.classList.contains("tooltip")&&(t.closest(".form-calc__item").querySelector(".tooltiptext").style.visibility="hidden")})}});
//# sourceMappingURL=maps/main.min.js.map
