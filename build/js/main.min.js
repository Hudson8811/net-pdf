let $=jQuery.noConflict();function declOfNum(e,t){var c=(e=Math.abs(e)%100)%10;return e>10&&e<20?t[2]:c>1&&c<5?t[1]:1==c?t[0]:t[2]}function checkESform(){$(".ec-form input.required").trigger("change")}function echoNumber(e){return String(e).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")}$(document).ready((function(){$(".ec-options .tooltip").hover((function(){$(this).closest(".checkbox").find(".tooltiptext").css("visibility","visible")}),(function(){$(this).closest(".checkbox").find(".tooltiptext").css("visibility","hidden")})),$(".js-video-popup").magnificPopup({type:"iframe"}),$(".ec-form__field input.required:not(.number-limit):not(.number-limit-2)").inputFilter((function(e){return/^\d*$/.test(e)})),$(".ec-form__field input.required.number-limit").inputFilter((function(e){return/^[123]?$/.test(e)})),$(".ec-form__field input.required.number-limit-2").inputFilter((function(e){return/^[0123]?$/.test(e)})),$(".ec-form__field input.required").on("change",(function(){""===$(this).val().trim()?$(this).closest(".ec-form__field").addClass("ec-form__field--error"):$(this).closest(".ec-form__field").removeClass("ec-form__field--error")})),$(".e-select-1").on("change",(function(){"n"===$(this).val()?($(".e-select-2").val("y").change(),$(".ec-form__section--sel-1").hide().find("input").removeClass("required").prop("required",!1)):$(".ec-form__section--sel-1").show().find("input").addClass("required").prop("required",!0)})),$(".e-select-2").on("change",(function(){"n"===$(this).val()&&($(".e-select-1").val("y").change(),$(".ec-form__section--sel-1").show().find("input").addClass("required").prop("required",!0))})),$(".ec-form__col-field input.required").on("change",(function(){""===$(this).val().trim()?$(this).closest(".ec-form__col-field").addClass("ec-form__col-field--error"):$(this).closest(".ec-form__col-field").removeClass("ec-form__col-field--error")})),$(".ec-form .ec-btn").on("click",(function(){checkESform()}));let e=0;function t(e){let t=$(".ec-options"),c=e;t.find("input:checked").each((function(){c+=parseInt($(this).data("price"))})),$(".ec-options__total .es-total__right > div").html(echoNumber(c)+" р.")}var c,s,o,l,n;$(".ec-form").on("submit",(function(){event.preventDefault();let c=$(".ec-form"),s=parseInt(c.data("id"));if(1===s){let s=parseInt(c.find('input[name="es_field_1"]').val()),o=parseInt(c.find('input[name="es_field_2"]').val()),l=parseInt(c.find('input[name="es_field_3"]').val()),n=parseInt(c.find('input[name="es_field_4"]').val()),r=parseInt(c.find('input[name="es_field_5"]').val()),i=parseInt(c.find('input[name="es_field_6"]').val()),u="1 камерой",d="",_="",a=7500,m=1;2===n?(a=8500,u="2 камерами"):3===n&&(a=9500,u="3 камерами");let f=0;if(f+=a*s*2,f+=a*l,r>2&&(f+=2e3*r),i>20?(m=1.4,_="от 21"):i>15?(m=1.35,_="от 16 до 20"):i>10?(m=1.3,_="от 11 до 15"):i>6?(m=1.2,_="от 7 до 10"):i>3&&(m=1.1,_="от 3 до 6"),f*=m,f+=1e4*o,f>=5e5?(f*=.85,d=" - <span>15% скидка</span>"):f>=26e4?(f*=.9,d=" - <span>10% скидка</span>"):f>=18e4&&(f*=.95,d=" - <span>5% скидка</span>"),f=Math.round(f),e=f,$(".ec-results__total .es-total > div").html("ИТОГО: "+echoNumber(f)+" р."),$(".ec-results__col--1 .ec-results__col-number").html(echoNumber(a)+" р./час * "+2*s+" "+declOfNum(2*s,["час","часа","часов"])),$(".ec-results__col--1 .ec-results__col-text").html("Ставка за час за комплект оборудования со съемочной группой с "+u),o>0?($(".ec-results__col--6 .ec-results__col-number").html("10.000 р. * "+o+" +&nbsp;"),$(".ec-results__col--6, .ec-results__col--2").show()):$(".ec-results__col--6, .ec-results__col--2").hide(),l>0?($(".ec-results__col--5 .ec-results__col-number").html("&nbsp;+ "+echoNumber(a)+" р."),$(".ec-results__col--2 .ec-results__col-number").html("&nbsp;* "+l+" "+declOfNum(l,["час","часа","часов"])),$(".ec-results__col--5, .ec-results__col--2").show()):$(".ec-results__col--5, .ec-results__col--2").hide(),r>2?($(".ec-results__col--4 .ec-results__col-number").html("&nbsp;+ 2.000 р. * "+r),$(".ec-results__col--4").show()):$(".ec-results__col--4").hide(),d||_){let e="&nbsp;";_?(e+="* "+m,$(".ec-results__col--3 .ec-results__col-text").html("Коэффициент количества спикеров <br>"+_).show()):$(".ec-results__col--3 .ec-results__col-text").html("Коэффициент количества спикеров <br>"+_).hide(),d&&(e+=d),$(".ec-results__col--3 .ec-results__col-number").html(e),$(".ec-results__col--3, .ec-results__col--sep").show()}else $(".ec-results__col--3").hide(),o>0?$(".ec-results__col--sep").show():$(".ec-results__col--sep").hide();t(e),$(".event-calc__section--3").slideDown(200,"linear",(function(){$(".event-calc__section--4").slideDown(300,"linear",(function(){$(".event-calc__section--5").slideDown(300,"linear")}))}))}else if(2===s){let s=parseInt(c.find('input[name="es_field_1"]').val()),o=parseInt(c.find('input[name="es_field_2"]').val()),l=c.find('select[name="es_field_3"]').val(),n=parseInt(c.find('input[name="es_field_4"]').val()),r=c.find('select[name="es_field_5"]').val(),i=parseInt(c.find('input[name="es_field_6"]').val()),u=parseInt(c.find('input[name="es_field_7"]').val()),d="Ставка за час за комплект оборудования",_="",a="",m=2;s>=14?m=6:s>=10?m=5:s>=6&&(m=4);let f=4500,p=1;1===n?(f=7500,d="Ставка за час за комплект оборудования со съемочной группой с 1 камерой"):2===n&&(f=8500,d="Ставка за час за комплект оборудования со съемочной группой с 2 камерами"),3===n&&(f=9500,d="Ставка за час за комплект оборудования со съемочной группой с 3 камерами");let h=0;if(h+=f*(s+m),"y"===r&&(h+=5500*(s+m)),i>0&&(h+=2500*i),"y"===l&&(u>20?(p=1.4,a="от 21"):i>15?(p=1.35,a="от 16 до 20"):i>10?(p=1.3,a="от 11 до 15"):i>6?(p=1.2,a="от 7 до 10"):i>3&&(p=1.1,a="от 3 до 6")),h*=p,n>0&&(h+=1e4*o),h>=5e5?(h*=.85,_=" - <span>15% скидка</span>"):h>=26e4?(h*=.9,_=" - <span>10% скидка</span>"):h>=18e4&&(h*=.95,_=" - <span>5% скидка</span>"),h=Math.round(h),e=h,$(".ec-results__total .es-total > div").html("ИТОГО: "+echoNumber(h)+" р."),$(".ec-results__col--1 .ec-results__col-number").html(echoNumber(f)+" р./час * "+(s+m)+" "+declOfNum(s+m,["час","часа","часов"])),$(".ec-results__col--1 .ec-results__col-text").html(d),o>0&&n>0?($(".ec-results__col--6 .ec-results__col-number").html("10.000 р. * "+o+" +&nbsp;"),$(".ec-results__col--6, .ec-results__col--2").show()):$(".ec-results__col--6, .ec-results__col--2").hide(),"y"===r?($(".ec-results__col--11 .ec-results__col-number").html("&nbsp;+ 5.500 р. * "+(s+m)+" "+declOfNum(s+m,["час","часа","часов"])),$(".ec-results__col--11").show()):$(".ec-results__col--11").hide(),i>0?($(".ec-results__col--12 .ec-results__col-number").html("&nbsp;+ 2.500 р. * "+i+" "+declOfNum(i,["час","часа","часов"])),$(".ec-results__col--12").show()):$(".ec-results__col--12").hide(),_||a){let e="&nbsp;";a&&"y"===l?(e+="* "+p,$(".ec-results__col--3 .ec-results__col-text").html("Коэффициент количества спикеров <br>"+a).show()):$(".ec-results__col--3 .ec-results__col-text").html("Коэффициент количества спикеров <br>"+a).hide(),_&&(e+=_),$(".ec-results__col--3 .ec-results__col-number").html(e),$(".ec-results__col--3, .ec-results__col--sep").show()}else $(".ec-results__col--3").hide(),o>0&&n>0?$(".ec-results__col--sep").show():$(".ec-results__col--sep").hide();t(e),n>0?$(".ec-options__checkbox--type-2").show():$(".ec-options__checkbox--type-2").hide().find("input").prop("checked",!1),$(".event-calc__section--3").slideDown(200,"linear",(function(){$(".event-calc__section--5").slideDown(300,"linear")}))}})),$(".ec-options .checkbox").on("change",(function(){t(e)})),$(".ec-options").on("submit",(function(){event.preventDefault(),alert("pdf отправлен")})),$(".es-quest__item").on("click",(function(){event.preventDefault();$(this).data("id");$(".es-quest__flex").hide(),$(".es-quest__thanks").show()})),c=$("body"),s=$(".header"),o=s.offset().top,l=s.outerHeight(),$(window).scrollTop(),n=!!(s.hasClass("header--half")&&$(window).width()>=1024),$(window).on("scroll",(function(){$(window).scrollTop()>=o+l?(l=s.outerHeight(),s.addClass("header--fixed"),s.hasClass("is-fixed")||(s.css({top:-l+"px",transform:"translateY("+l+"px)"}).addClass("is-fixed"),n||c.css("padding-top",l+"px"))):(s.removeClass("header--fixed is-fixed").removeAttr("style"),c.css("padding-top",0))}))})),jQuery.fn.inputFilter=function(e){return this.on("input keydown keyup mousedown mouseup select contextmenu drop",(function(){e(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""}))},document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector(".calc3")){const e=document.querySelector(".modal"),t=[{video1:"https://www.youtube.com/embed/V1en18UMl3s",title:"Копирайтинг, который\n                  выполняет задачи маркетинга",text:"Сильный с точки зрения маркетинга закадровый текст\n                - это залог успеха любого ролика. Мы разработаем \n                для вас копирайтинг, который будет выполнять\n                ту или иную задачу. В данном случае - это пример\n                копирайтинга, который вызывает гордость за компанию,\n                в которой работаешь. Ролик был приурочен к юбилею\n                компании. "},{video1:"https://www.youtube.com/embed/PmGUW76hq3Q",title:"У вас есть фото, которые вы хотите внедрить\n                  в проект, и сделать это органично?",text:"Мы предложим решение для внедрения ваших\n                материалов в формате современного слайд-шоу\n                с анимацией. Подгоним цветокоррекцию фотографий\n                под снятый видеоматериал, чтобы он органично \n                вписался в общий визуальный ряд. В данном случае\n                посмотрите на примере прямой трансляции отбороч-\n                ного тура по косплею - здесь внедрили фото победи-\n                телей прошлых годов.  "},{video1:"https://www.youtube.com/embed/NMvBBt_bwdI",title:"Словами не объяснить, на видео не показать? \n                  Мы смоделируем любой объект/предмет в 3D\n                  и анимируем его, покажем как он работает. ",text:"Сцены 3D существуют для выполнения всего двух\n                задач - они либо демонстрируют то, что нельзя\n                показать на видео - или это слишком мелко, или \n                этого еще нет в природе, или слишком большое\n                итд... или они выполняют чисто эстетическую функ-\n                цию, когда вам хочется оформить, например, заставку\n                к вашему ролику в 3D. Посмотрите наше демо, чтобы\n                иметь представление, какая может быть графика. "},{video1:"https://www.youtube.com/embed/sTP_oYYE5eY",video2:"https://www.youtube.com/embed/276VvkJSJuI"},{video1:"https://www.youtube.com/embed/bWczx2XYsaM",video2:"https://www.youtube.com/embed/e7JADySvAME"},{video1:"https://www.youtube.com/embed/Huea4BhmGRU",video2:"https://www.youtube.com/embed/mEobEA6-Egg"}];document.addEventListener("click",c=>{const s=c.target;if(s.classList.contains("form-calc__link")){if("1"===s.dataset.modal){c.preventDefault(),e.classList.add("video");const o=e.querySelectorAll("iframe");o[0].src=t[s.dataset.content].video1,o[1].src=t[s.dataset.content].video2}else"0"===s.dataset.modal&&(c.preventDefault(),e.querySelector("iframe").src=t[s.dataset.content].video1,e.querySelector(".modal-content__description-title").textContent=t[s.dataset.content].title,e.querySelector(".modal-content__description-text").textContent=t[s.dataset.content].text);e.classList.add("active")}(s.closest(".modal-content__close")||s.classList.contains("modal-overlay"))&&(e.classList.remove("active"),e.classList.remove("video"))})}}),document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector(".calc3")){const e=document.querySelector(".event-calc__form"),t=document.querySelectorAll(".js-required-checkbox");e.addEventListener("change",e=>{const c=e.target;t.forEach(e=>{e===c&&(e.checked="checked",e.closest("label").classList.add("form-checkbox__error"),e.closest(".form-calc__item").classList.add("form-calc__item-error"))})})}}),document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector(".calc3")){const e=document.querySelector(".event-calc__form"),t=document.querySelectorAll(".form-contacts__input");e.addEventListener("change",e=>{const c=e.target;t.forEach(e=>{e!==c||c.value?e===c&&c.value&&c.closest(".form-contacts__group").classList.remove("form-contacts__group-error"):c.closest(".form-contacts__group").classList.add("form-contacts__group-error")})}),e.addEventListener("submit",e=>{t.forEach(t=>{t.value||(e.preventDefault(),t.closest(".form-contacts__group").classList.add("form-contacts__group-error"))})})}}),document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector(".calc3")){document.querySelector(".event-calc__form");const e=document.querySelector(".form-total__text-final"),t=document.querySelector('input[name="es_field_1"]');document.querySelector('input[name="es_field_2"]'),document.querySelector('select[name="es_field_2-1"]'),document.querySelector('select[name="es_field_3"]'),document.querySelector('select[name="es_field_4"]'),document.querySelector('select[name="es_field_5"]'),document.querySelector('select[name="es_field_6"]'),document.querySelector('input[name="es_field_21"]'),document.querySelector('select[name="es_field_21-1"]'),document.querySelector('input[name="es_field_7"]'),document.querySelector('select[name="es_field_7-1"]'),document.querySelector('input[name="es_field_8"]'),document.querySelector('input[name="es_field_9"]'),document.querySelector('input[name="es_field_10"]'),document.querySelector('input[name="es_field_11"]'),document.querySelector('input[name="es_field_12"]'),document.querySelector('select[name="es_field_12-1"]'),document.querySelector('input[name="es_field_13"]'),document.querySelector('input[name="es_field_14"]'),document.querySelector('input[name="es_field_15"]'),document.querySelector('input[name="es_field_16"]'),document.querySelector('input[name="es_field_17"]'),document.querySelector('input[name="es_field_18"]'),document.querySelector('input[name="es_field_19"]'),document.querySelector('input[name="es_field_20"]');let c=0;(()=>{c=+t.dataset.price})(),e.textContent=c+" "}});
//# sourceMappingURL=maps/main.min.js.map
