let $=jQuery.noConflict();function declOfNum(e,t){var c=(e=Math.abs(e)%100)%10;return e>10&&e<20?t[2]:c>1&&c<5?t[1]:1==c?t[0]:t[2]}function checkESform(){$(".ec-form input.required").trigger("change")}function echoNumber(e){return String(e).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")}$(document).ready((function(){$(".ec-options .tooltip").hover((function(){$(this).closest(".checkbox").find(".tooltiptext").css("visibility","visible")}),(function(){$(this).closest(".checkbox").find(".tooltiptext").css("visibility","hidden")})),$(".js-video-popup").magnificPopup({type:"iframe"}),$(".ec-form__field input.required:not(.number-limit):not(.number-limit-2)").inputFilter((function(e){return/^\d*$/.test(e)})),$(".ec-form__field input.required.number-limit").inputFilter((function(e){return/^[123]?$/.test(e)})),$(".ec-form__field input.required.number-limit-2").inputFilter((function(e){return/^[0123]?$/.test(e)})),$(".ec-form__field input.required").on("change",(function(){""===$(this).val().trim()?$(this).closest(".ec-form__field").addClass("ec-form__field--error"):$(this).closest(".ec-form__field").removeClass("ec-form__field--error")})),$(".e-select-1").on("change",(function(){"n"===$(this).val()?($(".e-select-2").val("y").change(),$(".ec-form__section--sel-1").hide().find("input").removeClass("required").prop("required",!1)):$(".ec-form__section--sel-1").show().find("input").addClass("required").prop("required",!0)})),$(".e-select-2").on("change",(function(){"n"===$(this).val()&&($(".e-select-1").val("y").change(),$(".ec-form__section--sel-1").show().find("input").addClass("required").prop("required",!0))})),$(".ec-form__col-field input.required").on("change",(function(){""===$(this).val().trim()?$(this).closest(".ec-form__col-field").addClass("ec-form__col-field--error"):$(this).closest(".ec-form__col-field").removeClass("ec-form__col-field--error")})),$(".ec-form .ec-btn").on("click",(function(){checkESform()}));let e=0;function t(e){let t=$(".ec-options"),c=e;t.find("input:checked").each((function(){c+=parseInt($(this).data("price"))})),$(".ec-options__total .es-total__right > div").html(echoNumber(c)+" р.")}var c,o,s,l,r;$(".ec-form").on("submit",(function(){event.preventDefault();let c=$(".ec-form"),o=parseInt(c.data("id"));if(1===o){let o=parseInt(c.find('input[name="es_field_1"]').val()),s=parseInt(c.find('input[name="es_field_2"]').val()),l=parseInt(c.find('input[name="es_field_3"]').val()),r=parseInt(c.find('input[name="es_field_4"]').val()),n=parseInt(c.find('input[name="es_field_5"]').val()),i=parseInt(c.find('input[name="es_field_6"]').val()),a="1 камерой",_="",u="",d=7500,m=1;2===r?(d=8500,a="2 камерами"):3===r&&(d=9500,a="3 камерами");let f=0;if(f+=d*o*2,f+=d*l,n>2&&(f+=2e3*n),i>20?(m=1.4,u="от 21"):i>15?(m=1.35,u="от 16 до 20"):i>10?(m=1.3,u="от 11 до 15"):i>6?(m=1.2,u="от 7 до 10"):i>3&&(m=1.1,u="от 3 до 6"),f*=m,f+=1e4*s,f>=5e5?(f*=.85,_=" - <span>15% скидка</span>"):f>=26e4?(f*=.9,_=" - <span>10% скидка</span>"):f>=18e4&&(f*=.95,_=" - <span>5% скидка</span>"),f=Math.round(f),e=f,$(".ec-results__total .es-total > div").html("ИТОГО: "+echoNumber(f)+" р."),$(".ec-results__col--1 .ec-results__col-number").html(echoNumber(d)+" р./час * "+2*o+" "+declOfNum(2*o,["час","часа","часов"])),$(".ec-results__col--1 .ec-results__col-text").html("Ставка за час за комплект оборудования со съемочной группой с "+a),s>0?($(".ec-results__col--6 .ec-results__col-number").html("10.000 р. * "+s+" +&nbsp;"),$(".ec-results__col--6, .ec-results__col--2").show()):$(".ec-results__col--6, .ec-results__col--2").hide(),l>0?($(".ec-results__col--5 .ec-results__col-number").html("&nbsp;+ "+echoNumber(d)+" р."),$(".ec-results__col--2 .ec-results__col-number").html("&nbsp;* "+l+" "+declOfNum(l,["час","часа","часов"])),$(".ec-results__col--5, .ec-results__col--2").show()):$(".ec-results__col--5, .ec-results__col--2").hide(),n>2?($(".ec-results__col--4 .ec-results__col-number").html("&nbsp;+ 2.000 р. * "+n),$(".ec-results__col--4").show()):$(".ec-results__col--4").hide(),_||u){let e="&nbsp;";u?(e+="* "+m,$(".ec-results__col--3 .ec-results__col-text").html("Коэффициент количества спикеров <br>"+u).show()):$(".ec-results__col--3 .ec-results__col-text").html("Коэффициент количества спикеров <br>"+u).hide(),_&&(e+=_),$(".ec-results__col--3 .ec-results__col-number").html(e),$(".ec-results__col--3, .ec-results__col--sep").show()}else $(".ec-results__col--3").hide(),s>0?$(".ec-results__col--sep").show():$(".ec-results__col--sep").hide();t(e),$(".event-calc__section--3").slideDown(200,"linear",(function(){$(".event-calc__section--4").slideDown(300,"linear",(function(){$(".event-calc__section--5").slideDown(300,"linear")}))}))}else if(2===o){let o=parseInt(c.find('input[name="es_field_1"]').val()),s=parseInt(c.find('input[name="es_field_2"]').val()),l=c.find('select[name="es_field_3"]').val(),r=parseInt(c.find('input[name="es_field_4"]').val()),n=c.find('select[name="es_field_5"]').val(),i=parseInt(c.find('input[name="es_field_6"]').val()),a=parseInt(c.find('input[name="es_field_7"]').val()),_="Ставка за час за комплект оборудования",u="",d="",m=2;o>=14?m=6:o>=10?m=5:o>=6&&(m=4);let f=4500,p=1;1===r?(f=7500,_="Ставка за час за комплект оборудования со съемочной группой с 1 камерой"):2===r&&(f=8500,_="Ставка за час за комплект оборудования со съемочной группой с 2 камерами"),3===r&&(f=9500,_="Ставка за час за комплект оборудования со съемочной группой с 3 камерами");let h=0;if(h+=f*(o+m),"y"===n&&(h+=5500*(o+m)),i>0&&(h+=2500*i),"y"===l&&(a>20?(p=1.4,d="от 21"):i>15?(p=1.35,d="от 16 до 20"):i>10?(p=1.3,d="от 11 до 15"):i>6?(p=1.2,d="от 7 до 10"):i>3&&(p=1.1,d="от 3 до 6")),h*=p,r>0&&(h+=1e4*s),h>=5e5?(h*=.85,u=" - <span>15% скидка</span>"):h>=26e4?(h*=.9,u=" - <span>10% скидка</span>"):h>=18e4&&(h*=.95,u=" - <span>5% скидка</span>"),h=Math.round(h),e=h,$(".ec-results__total .es-total > div").html("ИТОГО: "+echoNumber(h)+" р."),$(".ec-results__col--1 .ec-results__col-number").html(echoNumber(f)+" р./час * "+(o+m)+" "+declOfNum(o+m,["час","часа","часов"])),$(".ec-results__col--1 .ec-results__col-text").html(_),s>0&&r>0?($(".ec-results__col--6 .ec-results__col-number").html("10.000 р. * "+s+" +&nbsp;"),$(".ec-results__col--6, .ec-results__col--2").show()):$(".ec-results__col--6, .ec-results__col--2").hide(),"y"===n?($(".ec-results__col--11 .ec-results__col-number").html("&nbsp;+ 5.500 р. * "+(o+m)+" "+declOfNum(o+m,["час","часа","часов"])),$(".ec-results__col--11").show()):$(".ec-results__col--11").hide(),i>0?($(".ec-results__col--12 .ec-results__col-number").html("&nbsp;+ 2.500 р. * "+i+" "+declOfNum(i,["час","часа","часов"])),$(".ec-results__col--12").show()):$(".ec-results__col--12").hide(),u||d){let e="&nbsp;";d&&"y"===l?(e+="* "+p,$(".ec-results__col--3 .ec-results__col-text").html("Коэффициент количества спикеров <br>"+d).show()):$(".ec-results__col--3 .ec-results__col-text").html("Коэффициент количества спикеров <br>"+d).hide(),u&&(e+=u),$(".ec-results__col--3 .ec-results__col-number").html(e),$(".ec-results__col--3, .ec-results__col--sep").show()}else $(".ec-results__col--3").hide(),s>0&&r>0?$(".ec-results__col--sep").show():$(".ec-results__col--sep").hide();t(e),r>0?$(".ec-options__checkbox--type-2").show():$(".ec-options__checkbox--type-2").hide().find("input").prop("checked",!1),$(".event-calc__section--3").slideDown(200,"linear",(function(){$(".event-calc__section--5").slideDown(300,"linear")}))}})),$(".ec-options .checkbox").on("change",(function(){t(e)})),$(".ec-options").on("submit",(function(){event.preventDefault(),alert("pdf отправлен")})),$(".es-quest__item").on("click",(function(){event.preventDefault();$(this).data("id");$(".es-quest__flex").hide(),$(".es-quest__thanks").show()})),c=$("body"),o=$(".header"),s=o.offset().top,l=o.outerHeight(),$(window).scrollTop(),r=!!(o.hasClass("header--half")&&$(window).width()>=1024),$(window).on("scroll",(function(){$(window).scrollTop()>=s+l?(l=o.outerHeight(),o.addClass("header--fixed"),o.hasClass("is-fixed")||(o.css({top:-l+"px",transform:"translateY("+l+"px)"}).addClass("is-fixed"),r||c.css("padding-top",l+"px"))):(o.removeClass("header--fixed is-fixed").removeAttr("style"),c.css("padding-top",0))}))})),jQuery.fn.inputFilter=function(e){return this.on("input keydown keyup mousedown mouseup select contextmenu drop",(function(){e(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""}))},document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector(".calc3")){const e=document.querySelector(".modal"),t=[{video1:"https://www.youtube.com/embed/V1en18UMl3s",title:"Копирайтинг, который\n                  выполняет задачи маркетинга",text:"Сильный с точки зрения маркетинга закадровый текст\n                - это залог успеха любого ролика. Мы разработаем \n                для вас копирайтинг, который будет выполнять\n                ту или иную задачу. В данном случае - это пример\n                копирайтинга, который вызывает гордость за компанию,\n                в которой работаешь. Ролик был приурочен к юбилею\n                компании. "},{video1:"https://www.youtube.com/embed/PmGUW76hq3Q",title:"У вас есть фото, которые вы хотите внедрить\n                  в проект, и сделать это органично?",text:"Мы предложим решение для внедрения ваших\n                материалов в формате современного слайд-шоу\n                с анимацией. Подгоним цветокоррекцию фотографий\n                под снятый видеоматериал, чтобы он органично \n                вписался в общий визуальный ряд. В данном случае\n                посмотрите на примере прямой трансляции отбороч-\n                ного тура по косплею - здесь внедрили фото победи-\n                телей прошлых годов.  "},{video1:"https://www.youtube.com/embed/NMvBBt_bwdI",title:"Словами не объяснить, на видео не показать? \n                  Мы смоделируем любой объект/предмет в 3D\n                  и анимируем его, покажем как он работает. ",text:"Сцены 3D существуют для выполнения всего двух\n                задач - они либо демонстрируют то, что нельзя\n                показать на видео - или это слишком мелко, или \n                этого еще нет в природе, или слишком большое\n                итд... или они выполняют чисто эстетическую функ-\n                цию, когда вам хочется оформить, например, заставку\n                к вашему ролику в 3D. Посмотрите наше демо, чтобы\n                иметь представление, какая может быть графика. "},{video1:"https://www.youtube.com/embed/sTP_oYYE5eY",video2:"https://www.youtube.com/embed/276VvkJSJuI"},{video1:"https://www.youtube.com/embed/bWczx2XYsaM",video2:"https://www.youtube.com/embed/e7JADySvAME"},{video1:"https://www.youtube.com/embed/Huea4BhmGRU",video2:"https://www.youtube.com/embed/mEobEA6-Egg"}];document.addEventListener("click",c=>{const o=c.target;if(o.classList.contains("form-calc__link")){if("1"===o.dataset.modal){c.preventDefault(),e.classList.add("video");const s=e.querySelectorAll("iframe");s[0].src=t[o.dataset.content].video1,s[1].src=t[o.dataset.content].video2}else"0"===o.dataset.modal&&(c.preventDefault(),e.querySelector("iframe").src=t[o.dataset.content].video1,e.querySelector(".modal-content__description-title").textContent=t[o.dataset.content].title,e.querySelector(".modal-content__description-text").textContent=t[o.dataset.content].text);e.classList.add("active")}(o.closest(".modal-content__close")||o.classList.contains("modal-overlay"))&&(e.classList.remove("active"),e.classList.remove("video"))})}}),document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector(".calc3")){const e=document.querySelector(".event-calc__form"),t=document.querySelectorAll(".js-required-checkbox");e.addEventListener("change",e=>{const c=e.target;t.forEach(e=>{e===c&&(e.checked="checked",e.closest("label").classList.add("form-checkbox__error"),e.closest(".form-calc__item").classList.add("form-calc__item-error"),setTimeout(()=>{e.closest("label").classList.remove("form-checkbox__error"),e.closest(".form-calc__item").classList.remove("form-calc__item-error")},3e3))})})}}),document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector(".calc3")){const e=document.querySelector(".event-calc__form"),t=document.querySelectorAll(".form-contacts__input");e.addEventListener("change",e=>{const c=e.target;t.forEach(e=>{e!==c||c.value?e===c&&c.value&&c.closest(".form-contacts__group").classList.remove("form-contacts__group-error"):c.closest(".form-contacts__group").classList.add("form-contacts__group-error")})}),e.addEventListener("submit",e=>{t.forEach(t=>{t.value||(e.preventDefault(),t.closest(".form-contacts__group").classList.add("form-contacts__group-error"))})})}}),document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector(".calc3")){const s=document.querySelector(".event-calc__form"),l=document.querySelector(".form-total__text-final"),r=document.querySelectorAll(".form-calc__price"),n=document.querySelector('input[name="es_field_1"]'),i=document.querySelector('input[name="es_field_2"]'),a=document.querySelector('select[name="es_field_2-1"]'),_=document.querySelector('select[name="es_field_3"]'),u=document.querySelector('input[name="es_field_4"]'),d=document.querySelector('select[name="es_field_4-1"]'),m=document.querySelector('input[name="es_field_5"]'),f=document.querySelector('input[name="es_field_6"]'),p=document.querySelector('input[name="es_field_21"]'),h=document.querySelector('input[name="es_field_7"]'),v=document.querySelector('select[name="es_field_7-1"]'),y=document.querySelector('input[name="es_field_8"]'),$=document.querySelector('input[name="es_field_9"]'),q=document.querySelector('input[name="es_field_10"]'),b=document.querySelector('input[name="es_field_11"]'),S=document.querySelector('input[name="es_field_12"]'),x=document.querySelector('select[name="es_field_12-1"]'),w=document.querySelector('input[name="es_field_13"]'),C=document.querySelector('input[name="es_field_14"]'),g=document.querySelector('input[name="es_field_15"]'),L=document.querySelector('input[name="es_field_16"]'),E=document.querySelector('input[name="es_field_17"]'),k=document.querySelector('input[name="es_field_18"]'),D=document.querySelector('input[name="es_field_19"]'),M=document.querySelector('input[name="es_field_20"]'),I=i.closest(".form-calc__item").querySelector(".form-calc__price"),N=u.closest(".form-calc__item").querySelector(".form-calc__price"),O=m.closest(".form-calc__item").querySelector(".form-calc__price"),A=f.closest(".form-calc__item").querySelector(".form-calc__price"),V=p.closest(".form-calc__item").querySelector(".form-calc__price"),Y=h.closest(".form-calc__item").querySelector(".form-calc__price"),j=y.closest(".form-calc__item").querySelector(".form-calc__price"),F=$.closest(".form-calc__item").querySelector(".form-calc__price"),P=q.closest(".form-calc__item").querySelector(".form-calc__price"),T=b.closest(".form-calc__item").querySelector(".form-calc__price"),B=S.closest(".form-calc__item").querySelector(".form-calc__price"),H=w.closest(".form-calc__item").querySelector(".form-calc__price"),J=C.closest(".form-calc__item").querySelector(".form-calc__price"),Q=g.closest(".form-calc__item").querySelector(".form-calc__price"),U=L.closest(".form-calc__item").querySelector(".form-calc__price"),G=E.closest(".form-calc__item").querySelector(".form-calc__price"),R=k.closest(".form-calc__item").querySelector(".form-calc__price"),W=D.closest(".form-calc__item").querySelector(".form-calc__price"),z=M.closest(".form-calc__item").querySelector(".form-calc__price");let X=0,K=0,Z=0,ee=_.value,te=0,ce=0,oe=0,se=0,le=0,re=0,ne=0,ie=0,ae=0,_e=0,ue=0,de=0,me=0,fe=0,pe=0,he=0,ve=0,ye=0;function e(e){return e.checked?e.dataset.price:0}function t(){K=e(n),Z=i.dataset.price*a.value,ee=_.value,te=u.dataset.price*d.value,se=e(p)*a.value,le=e(h)*v.value,re=e(y),ie=e(q),_e=e(S)*x.value,pe=e(E),he=e(k),"1"===ee?(ce=1*m.dataset.price,oe=1*f.dataset.price,ne=1*e($),ae=1*b.dataset.price,ue=1*e(w),de=1*C.dataset.price,me=1*g.dataset.price,fe=1*e(L),ve=1*D.dataset.price,ye=1*M.dataset.price):"2"===ee?(ce=1.25*m.dataset.price,oe=Math.ceil(1.33333*f.dataset.price),ne=1.2*e($),ae=1.5*b.dataset.price,ue=Math.ceil(1.16666*e(w)),de=1.5*C.dataset.price,me=1.5*g.dataset.price,fe=1.6*e(L),ve=Math.ceil(1.33333*D.dataset.price),ye=1.25*M.dataset.price):"3"===ee&&(ce=1.75*m.dataset.price,oe=Math.ceil(1.6666666666*f.dataset.price),ne=1.4*e($),ae=1.8*b.dataset.price,ue=Math.ceil(2.16666*e(w)),de=2.25*C.dataset.price,me=2*g.dataset.price,fe=3.6*e(L),ve=Math.ceil(1.66666*D.dataset.price),ye=1.5*M.dataset.price),function(){O.textContent=o(ce)+"р.",A.textContent=o(oe)+"р.",T.textContent=o(ae)+"р.",J.textContent=o(de)+"р.",Q.textContent=o(me)+"р.",W.textContent=o(ve)+"р.",z.textContent=o(ye)+"р.","1"===ee?(F.textContent=o(1*$.dataset.price)+"р.",H.textContent=o(1*w.dataset.price)+"р.",U.textContent=o(1*L.dataset.price)+"р."):"2"===ee?(F.textContent=o(1.2*$.dataset.price)+"р.",H.textContent=o(Math.ceil(1.16666*w.dataset.price))+"р.",U.textContent=o(1.6*L.dataset.price)+"р."):"3"===ee&&(F.textContent=o(1.4*$.dataset.price)+"р.",H.textContent=o(Math.ceil(2.16666*w.dataset.price))+"р.",U.textContent=o(3.6*L.dataset.price)+"р.");V.textContent=o(p.dataset.price*a.value)+"р.",Y.textContent=o(h.dataset.price*v.value)+"р.",j.textContent=o(y.dataset.price)+"р.",P.textContent=o(q.dataset.price)+"р.",B.textContent=o(S.dataset.price*x.value)+"р.",G.textContent=o(E.dataset.price)+"р.",R.textContent=o(k.dataset.price)+"р.",I.textContent=o(Z)+"р.",N.textContent=o(te)+"р.",r.forEach(e=>{"0 р."===e.textContent&&(e.textContent="")})}()}function c(){t(),X=+K+ +Z+ +te+ +ce+ +oe+ +se+ +le+ +re+ +ne+ +ie+ +ae+ +_e+ +ue+ +de+ +me+ +fe+ +pe+ +he+ +ve+ +ye,l.textContent=o(X)}function o(e){let t="",c=e.toString(),o=[];for(;c.length>3;)o.push(c.slice(-3)),c=c.slice(0,-3);o.push(c);for(let e=o.length;e>0;e--)t+=o[e-1],1!==e&&(t+=".");return t+" "}s.addEventListener("change",()=>{c()}),c()}}),document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector(".calc3")){const e=document.querySelector(".event-calc__form");e.addEventListener("mouseover",e=>{const t=e.target;t.classList.contains("tooltip")&&(t.closest(".form-calc__item").querySelector(".tooltiptext").style.visibility="visible")}),e.addEventListener("mouseout",e=>{const t=e.target;t.classList.contains("tooltip")&&(t.closest(".form-calc__item").querySelector(".tooltiptext").style.visibility="hidden")})}});
//# sourceMappingURL=maps/main.min.js.map
