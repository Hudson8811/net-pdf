let $=jQuery.noConflict();function declOfNum(e,t){var s=(e=Math.abs(e)%100)%10;return e>10&&e<20?t[2]:s>1&&s<5?t[1]:1==s?t[0]:t[2]}function checkESform(){$(".ec-form input.required").trigger("change")}function echoNumber(e){return String(e).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")}$(document).ready((function(){$(".ec-options .tooltip").hover((function(){$(this).closest(".checkbox").find(".tooltiptext").css("visibility","visible")}),(function(){$(this).closest(".checkbox").find(".tooltiptext").css("visibility","hidden")})),$(".js-video-popup").magnificPopup({type:"iframe"}),$(".ec-form__field input.required:not(.number-limit):not(.number-limit-2)").inputFilter((function(e){return/^\d*$/.test(e)})),$(".ec-form__field input.required.number-limit").inputFilter((function(e){return/^[123]?$/.test(e)})),$(".ec-form__field input.required.number-limit-2").inputFilter((function(e){return/^[0123]?$/.test(e)})),$(".ec-form__field input.required").on("change",(function(){""===$(this).val().trim()?$(this).closest(".ec-form__field").addClass("ec-form__field--error"):$(this).closest(".ec-form__field").removeClass("ec-form__field--error")})),$(".e-select-1").on("change",(function(){"n"===$(this).val()?($(".e-select-2").val("y").change(),$(".ec-form__section--sel-1").hide().find("input").removeClass("required").prop("required",!1)):$(".ec-form__section--sel-1").show().find("input").addClass("required").prop("required",!0)})),$(".e-select-2").on("change",(function(){"n"===$(this).val()&&($(".e-select-1").val("y").change(),$(".ec-form__section--sel-1").show().find("input").addClass("required").prop("required",!0))})),$(".ec-form__col-field input.required").on("change",(function(){""===$(this).val().trim()?$(this).closest(".ec-form__col-field").addClass("ec-form__col-field--error"):$(this).closest(".ec-form__col-field").removeClass("ec-form__col-field--error")})),$(".ec-form .ec-btn").on("click",(function(){checkESform()}));let e=0;function t(e){let t=$(".ec-options"),s=e;t.find("input:checked").each((function(){s+=parseInt($(this).data("price"))})),$(".ec-options__total .es-total__right > div").html(echoNumber(s)+" р.")}var s,l,c,n,o;$(".ec-form").on("submit",(function(){event.preventDefault();let s=$(".ec-form"),l=parseInt(s.data("id"));if(1===l){let l=parseInt(s.find('input[name="es_field_1"]').val()),c=parseInt(s.find('input[name="es_field_2"]').val()),n=parseInt(s.find('input[name="es_field_3"]').val()),o=parseInt(s.find('input[name="es_field_4"]').val()),i=parseInt(s.find('input[name="es_field_5"]').val()),r=parseInt(s.find('input[name="es_field_6"]').val()),_="1 камерой",u="",d="",a=7500,f=1;2===o?(a=8500,_="2 камерами"):3===o&&(a=9500,_="3 камерами");let h=0;if(h+=a*l*2,h+=a*n,h+=1e4*c,i>2&&(h+=2e3*i),r>20?(f=1.4,d="от 21"):r>15?(f=1.35,d="от 16 до 20"):r>10?(f=1.3,d="от 11 до 15"):r>6?(f=1.2,d="от 7 до 10"):r>3&&(f=1.1,d="от 3 до 6"),h*=f,h>=5e5?(h*=.85,u=" - <span>15% скидка</span>"):h>=26e4?(h*=.9,u=" - <span>10% скидка</span>"):h>=18e4&&(h*=.95,u=" - <span>5% скидка</span>"),h=Math.round(h),e=h,$(".ec-results__total .es-total > div").html("ИТОГО: "+echoNumber(h)+" р."),$(".ec-results__col--1 .ec-results__col-number").html(echoNumber(a)+" р./час * "+2*l+" "+declOfNum(2*l,["час","часа","часов"])),$(".ec-results__col--1 .ec-results__col-text").html("Ставка за час за комплект оборудования со съемочной группой с "+_),c>0?($(".ec-results__col--6 .ec-results__col-number").html("&nbsp;+ 10.000 р. * "+c),$(".ec-results__col--6, .ec-results__col--2").show()):$(".ec-results__col--6, .ec-results__col--2").hide(),n>0?($(".ec-results__col--5 .ec-results__col-number").html("&nbsp;+ "+echoNumber(a)+" р."),$(".ec-results__col--2 .ec-results__col-number").html("&nbsp;* "+n+" "+declOfNum(n,["час","часа","часов"])),$(".ec-results__col--5, .ec-results__col--2").show()):$(".ec-results__col--5, .ec-results__col--2").hide(),i>2?($(".ec-results__col--4 .ec-results__col-number").html("&nbsp;+ 2.000 р. * "+i),$(".ec-results__col--4").show()):$(".ec-results__col--4").hide(),u||d){let e="&nbsp;";d?(e+="* "+f,$(".ec-results__col--3 .ec-results__col-text").html("Коэффициент количества спикеров <br>"+d).show()):$(".ec-results__col--3 .ec-results__col-text").html("Коэффициент количества спикеров <br>"+d).hide(),u&&(e+=u),$(".ec-results__col--3 .ec-results__col-number").html(e),$(".ec-results__col--3, .ec-results__col--sep").show()}else $(".ec-results__col--3, .ec-results__col--sep").hide();t(e),$(".event-calc__section--3").slideDown(200,"linear",(function(){$(".event-calc__section--4").slideDown(300,"linear",(function(){$(".event-calc__section--5").slideDown(300,"linear")}))}))}else if(2===l){let l=parseInt(s.find('input[name="es_field_1"]').val()),c=parseInt(s.find('input[name="es_field_2"]').val()),n=s.find('select[name="es_field_3"]').val(),o=parseInt(s.find('input[name="es_field_4"]').val()),i=s.find('select[name="es_field_5"]').val(),r=parseInt(s.find('input[name="es_field_6"]').val()),_=parseInt(s.find('input[name="es_field_7"]').val()),u="Ставка за час за комплект оборудования",d="",a="",f=2;l>=14?f=6:l>=10?f=5:l>=6&&(f=4);let h=4500,p=1;1===o?(h=7500,u="Ставка за час за комплект оборудования со съемочной группой с 1 камерой"):2===o&&(h=8500,u="Ставка за час за комплект оборудования со съемочной группой с 2 камерами"),3===o&&(h=9500,u="Ставка за час за комплект оборудования со съемочной группой с 3 камерами");let m=0;if(m+=h*(l+f),m+=1e4*c,"y"===i&&(m+=5500*(l+f)),r>0&&(m+=2500*r),"y"===n&&(_>20?(p=1.4,a="от 21"):r>15?(p=1.35,a="от 16 до 20"):r>10?(p=1.3,a="от 11 до 15"):r>6?(p=1.2,a="от 7 до 10"):r>3&&(p=1.1,a="от 3 до 6")),m*=p,m>=5e5?(m*=.85,d=" - <span>15% скидка</span>"):m>=26e4?(m*=.9,d=" - <span>10% скидка</span>"):m>=18e4&&(m*=.95,d=" - <span>5% скидка</span>"),m=Math.round(m),e=m,$(".ec-results__total .es-total > div").html("ИТОГО: "+echoNumber(m)+" р."),$(".ec-results__col--1 .ec-results__col-number").html(echoNumber(h)+" р./час * "+(l+f)+" "+declOfNum(l+f,["час","часа","часов"])),$(".ec-results__col--1 .ec-results__col-text").html(u),c>0?($(".ec-results__col--6 .ec-results__col-number").html("&nbsp;+ 10.000 р. * "+c),$(".ec-results__col--6, .ec-results__col--2").show()):$(".ec-results__col--6, .ec-results__col--2").hide(),"y"===i?($(".ec-results__col--11 .ec-results__col-number").html("&nbsp;+ 5.500 р. * "+(l+f)+" "+declOfNum(l+f,["час","часа","часов"])),$(".ec-results__col--11").show()):$(".ec-results__col--11").hide(),r>0?($(".ec-results__col--12 .ec-results__col-number").html("&nbsp;+ 2.500 р. * "+r+" "+declOfNum(r,["час","часа","часов"])),$(".ec-results__col--12").show()):$(".ec-results__col--12").hide(),d||a){let e="&nbsp;";a&&"y"===n?(e+="* "+p,$(".ec-results__col--3 .ec-results__col-text").html("Коэффициент количества спикеров <br>"+a).show()):$(".ec-results__col--3 .ec-results__col-text").html("Коэффициент количества спикеров <br>"+a).hide(),d&&(e+=d),$(".ec-results__col--3 .ec-results__col-number").html(e),$(".ec-results__col--3, .ec-results__col--sep").show()}else $(".ec-results__col--3, .ec-results__col--sep").hide();t(e),$(".event-calc__section--3").slideDown(200,"linear",(function(){$(".event-calc__section--4").slideDown(300,"linear",(function(){$(".event-calc__section--5").slideDown(300,"linear")}))}))}})),$(".ec-options .checkbox").on("change",(function(){t(e)})),$(".ec-options").on("submit",(function(){event.preventDefault(),alert("pdf отправлен")})),$(".es-quest__item").on("click",(function(){event.preventDefault();$(this).data("id");$(".es-quest__flex").hide(),$(".es-quest__thanks").show()})),s=$("body"),l=$(".header"),c=l.offset().top,n=l.outerHeight(),$(window).scrollTop(),o=!!(l.hasClass("header--half")&&$(window).width()>=1024),$(window).on("scroll",(function(){$(window).scrollTop()>=c+n?(n=l.outerHeight(),l.addClass("header--fixed"),l.hasClass("is-fixed")||(l.css({top:-n+"px",transform:"translateY("+n+"px)"}).addClass("is-fixed"),o||s.css("padding-top",n+"px"))):(l.removeClass("header--fixed is-fixed").removeAttr("style"),s.css("padding-top",0))}))})),jQuery.fn.inputFilter=function(e){return this.on("input keydown keyup mousedown mouseup select contextmenu drop",(function(){e(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""}))};
//# sourceMappingURL=maps/main.min.js.map
